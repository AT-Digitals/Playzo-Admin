"use strict";(self.webpackChunkplayzo_admin_panel=self.webpackChunkplayzo_admin_panel||[]).push([[544],{88983:(e,n,r)=>{r.d(n,{Z:()=>t});var a=r(93701),s=r(46417);function t(e){let{children:n,type:r}=e;return(0,s.jsx)(a.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}t.defaultProps={type:"scale"}},42979:(e,n,r)=>{r.d(n,{Z:()=>l});var a=r(41806),s=r(9019),t=r(97402),o=r(46417);const i=e=>{let{children:n,...r}=e;return(0,o.jsx)(t.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...r,border:!1,boxShadow:!0,children:(0,o.jsx)(a.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:n})})},l=e=>{let{children:n}=e;return(0,o.jsx)(a.Z,{sx:{minHeight:"100vh"},children:(0,o.jsx)(s.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsx)(s.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,o.jsx)(s.ZP,{item:!0,children:(0,o.jsx)(i,{children:n})})})})})})}},13544:(e,n,r)=>{r.r(n),r.d(n,{default:()=>ue});var a=r(9019),s=r(63984),t=r(61113),o=r(3463),i=r(15103),l=r(37843),c=r(15480),d=r(41727),u=r(47131),m=r(31095),h=r(31741),p=r(44874),x=r(47313),Z=r(68064),j=r(88983),g=r(86924),v=r(1550),b=r(83929),f=r(5178),w=r(14250),y=r(63366),C=r(87462),P=r(94146),S=r(21921),z=r(17551),R=r(97423),k=r(77342),N=r(81171),B=r(46417);const E=(0,N.Z)((0,B.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),F=(0,N.Z)((0,B.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var q=r(17592);const T=(0,q.ZP)("span",{shouldForwardProp:q.FO})({position:"relative",display:"flex"}),A=(0,q.ZP)(E)({transform:"scale(1)"}),W=(0,q.ZP)(F)((e=>{let{theme:n,ownerState:r}=e;return(0,C.Z)({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})})}));const U=function(e){const{checked:n=!1,classes:r={},fontSize:a}=e,s=(0,C.Z)({},e,{checked:n});return(0,B.jsxs)(T,{className:r.root,ownerState:s,children:[(0,B.jsx)(A,{fontSize:a,className:r.background,ownerState:s}),(0,B.jsx)(W,{fontSize:a,className:r.dot,ownerState:s})]})};var _=r(91615),M=r(85038);const I=x.createContext(void 0);var H=r(77430),O=r(32298);function V(e){return(0,O.Z)("MuiRadio",e)}const D=(0,H.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),G=["checked","checkedIcon","color","icon","name","onChange","size","className"],L=(0,q.ZP)(R.Z,{shouldForwardProp:e=>(0,q.FO)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,"medium"!==r.size&&n["size".concat((0,_.Z)(r.size))],n["color".concat((0,_.Z)(r.color))]]}})((e=>{let{theme:n,ownerState:r}=e;return(0,C.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,z.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(D.checked)]:{color:(n.vars||n).palette[r.color].main}},{["&.".concat(D.disabled)]:{color:(n.vars||n).palette.action.disabled}})}));const J=(0,B.jsx)(U,{checked:!0}),$=(0,B.jsx)(U,{}),K=x.forwardRef((function(e,n){var r,a;const s=(0,k.Z)({props:e,name:"MuiRadio"}),{checked:t,checkedIcon:o=J,color:i="primary",icon:l=$,name:c,onChange:d,size:u="medium",className:m}=s,h=(0,y.Z)(s,G),p=(0,C.Z)({},s,{color:i,size:u}),Z=(e=>{const{classes:n,color:r,size:a}=e,s={root:["root","color".concat((0,_.Z)(r)),"medium"!==a&&"size".concat((0,_.Z)(a))]};return(0,C.Z)({},n,(0,S.Z)(s,V,n))})(p),j=x.useContext(I);let g=t;const v=(0,M.Z)(d,j&&j.onChange);let b=c;var f,w;return j&&("undefined"===typeof g&&(f=j.value,g="object"===typeof(w=s.value)&&null!==w?f===w:String(f)===String(w)),"undefined"===typeof b&&(b=j.name)),(0,B.jsx)(L,(0,C.Z)({type:"radio",icon:x.cloneElement(l,{fontSize:null!=(r=$.props.fontSize)?r:u}),checkedIcon:x.cloneElement(o,{fontSize:null!=(a=J.props.fontSize)?a:u}),ownerState:p,classes:Z,name:b,checked:g,onChange:v,ref:n,className:(0,P.Z)(Z.root,m)},h))}));var Q=r(16429),X=r(86983),Y=r(53800),ee=r(17677);const ne=["actions","children","defaultValue","name","onChange","value"],re=x.forwardRef((function(e,n){const{actions:r,children:a,defaultValue:s,name:t,onChange:o,value:i}=e,l=(0,y.Z)(e,ne),c=x.useRef(null),[d,u]=(0,Y.Z)({controlled:i,default:s,name:"RadioGroup"});x.useImperativeHandle(r,(()=>({focus:()=>{let e=c.current.querySelector("input:not(:disabled):checked");e||(e=c.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const m=(0,X.Z)(n,c),h=(0,ee.Z)(t),p=x.useMemo((()=>({name:h,onChange(e){u(e.target.value),o&&o(e,e.target.value)},value:d})),[h,o,u,d]);return(0,B.jsx)(I.Provider,{value:p,children:(0,B.jsx)(Q.Z,(0,C.Z)({role:"radiogroup",ref:m},l,{children:a}))})}));var ae=r(31474),se=r(23107);class te{static async createAdmin(e){try{return(await ae.Z.post("/adminUsers",e)).data}catch(n){throw(0,se.z)(n,"Failed to create details")}}static async createUser(e){try{return(await ae.Z.post("/user/newUsers",e)).data}catch(n){throw(0,se.z)(n,"Failed to create details")}}}const oe=e=>{let n=0;return e.length>5&&(n+=1),e.length>7&&(n+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(n+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(n+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(n+=1),n};var ie=r(58467);r(70122);const le=[{value:"admin",label:"Admin"},{value:"customer",label:"Customer"}],ce=()=>{const[e,n]=(0,x.useState)(!1),r=()=>{n(!e)},t=e=>{e.preventDefault()},y=e=>{oe(e)};(0,x.useEffect)((()=>{y("")}),[]);const C=(0,ie.s0)();return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(w.J9,{initialValues:{name:"",email:"",phoneNumber:"",password:"",userType:"",access:"",submit:null},validationSchema:o.Ry().shape({name:o.Z_().max(255).required("Name is required"),email:o.Z_().email("Must be a valid email").max(255).required("Email is required"),password:o.Z_().max(255).required("Password is required"),phoneNumber:o.Z_().max(10).required("Phone Number is required"),userType:o.Z_().max(255).required("User Type is required")}),onSubmit:async(e,n)=>{let{setErrors:r,setStatus:a,setSubmitting:s}=n;try{if("admin"===e.userType){var t;await te.createAdmin({email:e.email,password:e.password,name:e.name,phone:e.phoneNumber,accessType:null!==(t=e.access)&&void 0!==t?t:""})?(C("/dashboard/default"),a({success:!0}),s(!0)):console.log("Admin create account Failed")}else{await te.createUser({email:e.email,password:e.password,name:e.name,phone:e.phoneNumber})?(C("/dashboard/default"),a({success:!0}),s(!0)):console.log("User create account Failed")}a({success:!1}),s(!1)}catch(o){console.error(o),a({success:!1}),r({submit:o.message}),s(!1)}},children:n=>{let{errors:o,handleBlur:x,handleChange:w,handleSubmit:C,isSubmitting:P,touched:S,values:z}=n;return(0,B.jsx)("form",{noValidate:!0,onSubmit:C,children:(0,B.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(s.Z,{spacing:1,children:[(0,B.jsx)(i.Z,{htmlFor:"name-signup",children:"Name"}),(0,B.jsx)(l.Z,{id:"name-login",type:"name",value:z.firstname,name:"name",onBlur:x,onChange:w,fullWidth:!0,error:Boolean(S.name&&o.name)}),S.name&&o.name&&(0,B.jsx)(c.Z,{error:!0,id:"helper-text-name-signup",children:o.name})]})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(s.Z,{spacing:1,children:[(0,B.jsx)(i.Z,{htmlFor:"email-signup",children:"Email Address"}),(0,B.jsx)(l.Z,{fullWidth:!0,error:Boolean(S.email&&o.email),id:"email-login",type:"email",value:z.email,name:"email",onBlur:x,onChange:w,inputProps:{}}),S.email&&o.email&&(0,B.jsx)(c.Z,{error:!0,id:"helper-text-email-signup",children:o.email})]})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(s.Z,{spacing:1,children:[(0,B.jsx)(i.Z,{htmlFor:"company-signup",children:"Phone Number"}),(0,B.jsx)(l.Z,{fullWidth:!0,error:Boolean(S.phoneNumber&&o.phoneNumber),id:"phoneNumber-signup",value:z.phoneNumber,name:"phoneNumber",onBlur:x,onChange:w,inputProps:{}}),S.phoneNumber&&o.phoneNumber&&(0,B.jsx)(c.Z,{error:!0,id:"helper-text-phoneNumber-signup",children:o.phoneNumber})]})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsx)(g.Z,{name:"userType",label:"User Type",options:le,value:z.userType||"",onChange:w,onBlur:x,error:Boolean(S.userType&&o.userType)})}),"admin"===z.userType&&(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(v.Z,{children:[(0,B.jsx)(f.Z,{id:"demo-row-radio-buttons-group-label",children:"Access"}),(0,B.jsxs)(re,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"access",value:z.access,onChange:w,onBlur:x,children:[(0,B.jsx)(b.Z,{value:Z.W.ALL,control:(0,B.jsx)(K,{}),label:"R+"}),(0,B.jsx)(b.Z,{value:Z.W.WRITE,control:(0,B.jsx)(K,{}),label:"RW"}),(0,B.jsx)(b.Z,{value:Z.W.READ,control:(0,B.jsx)(K,{}),label:"R"})]})]})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsxs)(s.Z,{spacing:1,children:[(0,B.jsx)(i.Z,{htmlFor:"password-signup",children:"Password"}),(0,B.jsx)(l.Z,{fullWidth:!0,error:Boolean(S.password&&o.password),id:"password-signup",type:e?"text":"password",value:z.password,name:"password",onBlur:x,onChange:e=>{w(e),y(e.target.value)},endAdornment:(0,B.jsx)(d.Z,{position:"end",children:(0,B.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:t,edge:"end",size:"large",children:e?(0,B.jsx)(h.Z,{}):(0,B.jsx)(p.Z,{})})}),inputProps:{}}),S.password&&o.password&&(0,B.jsx)(c.Z,{error:!0,id:"helper-text-email-signup",children:o.password})]})}),o.submit&&(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsx)(c.Z,{error:!0,children:o.submit})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsx)(j.Z,{children:(0,B.jsx)(m.Z,{disableElevation:!0,disabled:P,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create User"})})})]})})}})})};var de=r(42979);const ue=()=>(0,B.jsx)(de.Z,{children:(0,B.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsx)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,B.jsx)(t.Z,{variant:"h3",children:"Add User Registration"})})}),(0,B.jsx)(a.ZP,{item:!0,xs:12,children:(0,B.jsx)(ce,{})})]})})}}]);